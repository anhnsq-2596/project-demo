<nav class="navbar navbar-expand-lg navbar-dark bg-dark fixed-top">
  <div class="container-fluid">
    <%= link_to image_tag("baymax_icon.png", class: " nav-icon"), 
      root_path, 
      class: "navbar-brand" %>
    <button
      class="navbar-toggler"
      type="button"
      data-bs-toggle="collapse"
      data-bs-target="#navbarSupportedContent"
      aria-controls="navbarSupportedContent"
      aria-expanded="false"
      aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>
    <div class="collapse navbar-collapse" id="navbarSupportedContent">
      <ul class="navbar-nav me-auto mb-2 mb-lg-0">
        <li class="nav-item">
          <%= link_to t("navbar.title.home"), root_path, 
            class: "nav-link active" %>
        </li>
        <li class="nav-item">
          <%= link_to t("navbar.title.about"), about_path, 
           class: "nav-link" %>
        </li>
        <li class="nav-item ms-5 me-3">
          <%= link_to t("posts.create.title"), new_post_path, 
           class: "btn btn-primary text-white" %>
        </li>
        <li class="nav-item">
          <%= link_to t("tags.create.title"), new_tag_path,
           class: "btn btn-primary text-white" %>
        </li>
        
      </ul>
      <ul class="navbar-nav ms-auto mb-2 mb-lg-0 me-lg-2">
        <% if current_user %>
          <li class="nav-item ms-3">
            <div class="dropdown">
              <a class="btn btn-outline-info" 
                href="#" 
                role="button" 
                id="dropdownMenuLink1" 
                data-bs-toggle="dropdown" 
                aria-expanded="false">
                <%= t("navbar.title.welcome") %>,
                <%= current_user.name %>
              </a>

              <ul class="dropdown-menu" aria-labelledby="dropdownMenuLink1">
                <li class="dropdown-item">
                  <%= link_to t("navbar.title.profile"), "#" %>
                </li>
                <li class="dropdown-item">
                  <%= link_to t("commons.logout"), logout_path, method: :delete %>
                </li>
              </ul>
            </div>
          </li>
        <% else %>
          <li class="nav-item">
              <%= link_to t("commons.login"), login_path, 
              class: "nav-link active" %>
            </li>
            <li class="nav-item">
              <%= link_to t("commons.register"), register_path, 
                class: "btn btn-outline-warning" %>
            </li>
        <% end %>
        <li class="nav-item ms-3">
          <div class="dropdown">
            <a class="btn btn-success" 
              href="#" 
              role="button" 
              id="dropdownMenuLink" 
              data-bs-toggle="dropdown" 
              aria-expanded="false">
              <%= t("navbar.lang.title") %>
              <%= image_tag "translate.svg" %>
            </a>

            <ul class="dropdown-menu" aria-labelledby="dropdownMenuLink">
              <li class="dropdown-item">
                <%= link_to t("navbar.lang.eng"), request.parameters.merge({locale: :en}) %>
              </li>
              <li class="dropdown-item">
                <%= link_to t("navbar.lang.vi"), request.parameters.merge({locale: :vi}) %>
              </li>
            </ul>
          </div>
        </li>
        
      </ul>
    </div>
  </div>
</nav>
